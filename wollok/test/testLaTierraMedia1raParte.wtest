import src.main.armas.*
import src.main.guerreros.*
import src.main.zonas.*

describe "Poder de Gandalf" {
  test "Con toda la vida y todas sus armas" {
    assert.equals(2800,gandalf.poder())
  }
  test "Sin armas y con 80 de vida " {
    gandalf.vaciarArmas()
    gandalf.cantidadDeVida(80)
    assert.equals(1200,gandalf.poder())
  }
  test "Con 5 de vida y su baculo" {
    gandalf.cantidadDeVida(5)
    gandalf.vaciarArmas()
    gandalf.agregarArma(baculo)
    assert.equals(2300,gandalf.poder())
  }
  test "Con 30 de vida, su baculo y su espada pero version enana" {
    gandalf.cantidadDeVida(30)
    gandalf.vaciarArmas()
    gandalf.agregarArma(baculo)
    gandalf.agregarArma(espada)
    espada.cambiarOrigen("Enano")
    assert.equals(1650,gandalf.poder())
  }
}

describe "Zonas y Caminos" {
  test "Gandalf full vida y con sus armas, puede atravesar Lebennin" {
    assert.that(lebennin.puedePasar(gandalf))
  }
  test "Gandalf sin armas y con 11 de vida puede atravesar Lebennin"{
    gandalf.cantidadDeVida(11)
    gandalf.vaciarArmas()
    assert.notThat(lebennin.puedePasar(gandalf))
  }
  test "Gandalf sin armas y con 11 de vida puede atravesar Minas Tirith"{
    gandalf.cantidadDeVida(11)
    gandalf.vaciarArmas()
    assert.notThat(minasTirith.puedePasar(gandalf))
  }   
  test "Gandalf full vida y con sus armas, puede atravesar el camino compuesto por Lebennin y Minas Tirith"{
    caminoDeGondor.modificarCamino(lebennin, minasTirith)
    assert.that(caminoDeGondor.puedeAtravesar(gandalf))
  } 
  test "Gandalf full vida y con sus armas, atraviesa el camino compuesto por Lebennin y Minas Tirith"{
    caminoDeGondor.modificarCamino(lebennin, minasTirith)
    caminoDeGondor.recorrerCamino(gandalf)
    assert.equals(90, gandalf.cantidadDeVida())
  }
}